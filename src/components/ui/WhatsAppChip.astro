---
interface Props {
  dish?: string;
  label?: string;              // Texto del chip
  size?: "sm" | "md";
  phone?: string;              // Override opcional
  message?: string;            // Override opcional
}

const {
  dish = "",
  label = "Consultar Precio",
  size = "md",
  phone = import.meta.env.PUBLIC_WHATSAPP_PHONE ?? "5493644636144",
  message,
} = Astro.props;

const text =
  message ??
  (dish
    ? `Hola! QuerÃ­a consultar disponibilidad y precio de: ${dish}. Gracias!`
    : "Hola! QuerÃ­a consultar disponibilidad y precios. Gracias!");

const href = phone
  ? `https://wa.me/${phone}?text=${encodeURIComponent(text)}`
  : `https://wa.me/?text=${encodeURIComponent(text)}`;

const pad = size === "sm" ? "px-2 py-0.5 text-xs" : "px-3 py-1 text-sm";
---

<a
  href={href}
  target="_blank"
  rel="noopener noreferrer"
  aria-label={dish ? `Consultar por ${dish} en WhatsApp` : "Consultar por WhatsApp"}
  class={`inline-flex items-center gap-2 rounded-full border border-line bg-white/70 font-medium text-primary hover:bg-orange-500 hover:text-white hover:border-orange-600 transition ${pad}`}

>
<span class="leading-none">ðŸ’°</span>
<span>{label}</span>
</a>
